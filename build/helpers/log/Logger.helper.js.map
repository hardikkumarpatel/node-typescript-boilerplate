{"version":3,"file":"Logger.helper.js","names":["_utils","require","winston","_interopRequireWildcard","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","LoggerHelper","print","createLogger","level","process","env","LOG_LEVEL","levels","config","npm","transports","Console","format","combine","colorize","message","colors","error","info","debug","http","timestamp","date","simple","printf","printMessage","concat","metadata","Error","stack","errorMessage","JSON","stringify","_default","exports"],"sources":["../../../src/helpers/log/Logger.helper.ts"],"sourcesContent":["import { date } from \"@/utils\";\nimport * as winston from \"winston\";\n\nexport type Logger = winston.Logger;\nclass LoggerHelper {\n  static print(): Logger {\n    return winston.createLogger({\n      level: process.env.LOG_LEVEL,\n      levels: winston.config.npm.levels,\n      transports: [new winston.transports.Console()],\n      format: winston.format.combine(\n        winston.format.colorize({\n          level: true,\n          message: true,\n          colors: {\n            error: \"red\",\n            info: \"green\",\n            debug: \"green\",\n            http: \"blue\"\n          }\n        }),\n        winston.format.timestamp({\n          format: date()\n        }),\n        winston.format.simple(),\n        winston.format.printf((info: winston.Logform.TransformableInfo) => {\n          const printMessage = `[${info.timestamp}] [${info.level}]: ${info.message}`;\n          if (info.metadata) {\n            if (info.metadata instanceof Error) {\n              const { message, stack } = info.metadata;\n              const errorMessage = JSON.stringify({ message, stack }, null, 2);\n              return `${printMessage} | ${errorMessage}`;\n            }\n            if (typeof info.metadata === \"object\") {\n              const message = JSON.stringify(info.metadata, null, 2);\n              return `${printMessage} | ${message}`;\n            }\n            if (typeof info.metadata === \"number\") {\n              return `${printMessage} | ${info.metadata}`;\n            }\n            return `${printMessage} | ${info.metadata}`;\n          }\n          return printMessage;\n        })\n      )\n    });\n  }\n\n  public static info(message: string): void;\n  public static info<T>(message: string, metadata: T): void;\n  public static info<T>(message: string, metadata?: T) {\n    LoggerHelper.print().info(message, { metadata });\n  }\n\n  public static debug(message: string): void;\n  public static debug<T>(message: string, metadata: T): void;\n  public static debug<T>(message: string, metadata?: T) {\n    LoggerHelper.print().debug(message, { metadata });\n  }\n\n  public static error(message: string): void;\n  public static error<T>(message: string, metadata?: T): void;\n  public static error<T>(message: string, metadata?: T) {\n    LoggerHelper.print().error(message, { metadata });\n  }\n\n  public static http(message: string): void;\n  public static http(message: string) {\n    LoggerHelper.print().http(message);\n  }\n}\n\nexport default LoggerHelper;\n"],"mappings":"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","ignoreList":[]}